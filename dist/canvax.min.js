'use strict';var _createClass=function(){function c(d,e){for(var g,f=0;f<e.length;f++)g=e[f],g.enumerable=g.enumerable||!1,g.configurable=!0,'value'in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}return function(d,e,f){return e&&c(d.prototype,e),f&&c(d,f),d}}();function _classCallCheck(c,d){if(!(c instanceof d))throw new TypeError('Cannot call a class as a function')}var canvax=function(){var c={},d={};return d.exports=function(){function e(f){_classCallCheck(this,e),this.type='circle',Object.assign(this,{x:0,y:0,radius:100,backgroundColor:'#3498DB',borderColor:'#E74C3C',borderWeight:5},f)}return _createClass(e,[{key:'render',value:function render(f){f.beginPath(),f.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),'string'==typeof this.backgroundColor&&(f.fillStyle=this.backgroundColor,f.fill()),'string'==typeof this.borderColor&&(f.strokeStyle=this.borderColor,f.lineWidth=this.borderWeight,f.stroke())}},{key:'touches',value:function touches(f){if('circle'===f.type)return this._pointDistance([this.x,this.y],[f.x,f.y])<this.radius+f.radius;if('rectangle'===f.type||'image'===f.type){var g=this.x-Math.max(f.x,Math.min(this.x,f.x+f.width)),h=this.y-Math.max(f.y,Math.min(this.y,f.y+f.height));return Math.pow(g,2)+Math.pow(h,2)<Math.pow(this.radius,2)}throw new Error('Cannot check touches for type '+f.type+'.')}},{key:'_pointDistance',value:function _pointDistance(f,g){return Math.sqrt(Math.pow(Math.abs(f[0]-g[0]),2)+Math.pow(Math.abs(f[1]-g[1]),2))}}]),e}(),c.Circle=d.exports,d.exports=function(){function e(f){_classCallCheck(this,e),this.type='ellipse',Object.assign(this,{x:0,y:0,width:100,height:100,backgroundColor:'#3498DB',borderColor:'#E74C3C',borderWeight:5},f)}return _createClass(e,[{key:'render',value:function render(f){var g=.5522847493,h=this.width/2*g,j=this.height/2*g,k=this.x+this.width,l=this.y+this.height,m=this.x+this.width/2,n=this.y+this.height/2;f.beginPath(),f.moveTo(this.x,n),f.bezierCurveTo(this.x,n-j,m-h,this.y,m,this.y),f.bezierCurveTo(m+h,this.y,k,n-j,k,n),f.bezierCurveTo(k,n+j,m+h,l,m,l),f.bezierCurveTo(m-h,l,this.x,n+j,this.x,n),f.closePath(),'string'==typeof this.backgroundColor&&(f.fillStyle=this.backgroundColor,f.fill()),'string'==typeof this.borderColor&&(f.strokeStyle=this.borderColor,f.lineWidth=this.borderWeight,f.stroke())}},{key:'touches',value:function touches(){throw new Error('Cannot check touches for type '+this.type+'.')}}]),e}(),c.Ellipse=d.exports,d.exports=function(){function e(f){_classCallCheck(this,e),this.type='image',this._imageCache={},Object.assign(this,{x:0,y:0,source:''},f)}return _createClass(e,[{key:'render',value:function render(f){var h=this;f.rotate(this.rotation*Math.PI/180);var g;if(this._imageCache.hasOwnProperty(this.source)){if(!1===this._imageCache[this.source])return;g=this._imageCache[this.source],f.drawImage(g,this.x,this.y,this.width,this.height)}else this._imageCache[this.source]=!1,g=new window.Image,g.src=this.source,g.onload=function(){h._imageCache[h.source]=g,f.drawImage(g,h.x,h.y,h.width,h.height)}}},{key:'getBounds',value:function getBounds(){return{l:this.x,t:this.y,r:this.x+this.width,b:this.y-this.height}}},{key:'touches',value:function touches(f){if('rectangle'===f.type||'image'===f.type){var g=this.getBounds(),h=f.getBounds();return!(g.t<h.b||g.b>h.t||g.r<h.l||g.l>h.r)}if('circle'===f.type){var j=f.x-Math.max(this.x,Math.min(f.x,this.x+this.width)),k=f.y-Math.max(this.y,Math.min(f.y,this.y+this.height));return Math.pow(j,2)+Math.pow(k,2)<Math.pow(f.radius,2)}throw new Error('Cannot check touches for type '+f.type+'.')}}]),e}(),c.Image=d.exports,d.exports=function(){function e(f){_classCallCheck(this,e),this.type='rectangle',Object.assign(this,{x:0,y:0,width:100,height:100,backgroundColor:'#3498DB',borderColor:'#E74C3C',borderWeight:5},f)}return _createClass(e,[{key:'render',value:function render(f){'string'==typeof this.backgroundColor&&(f.fillStyle=this.backgroundColor,f.fillRect(this.x,this.y,this.width,this.height)),'string'==typeof this.borderColor&&(f.strokeStyle=this.borderColor,f.lineWidth=this.borderWeight,f.strokeRect(this.x,this.y,this.width,this.height))}},{key:'getBounds',value:function getBounds(){return{l:this.x,t:this.y,r:this.x+this.width,b:this.y-this.height}}},{key:'touches',value:function touches(f){if('rectangle'===f.type||'image'===f.type){var g=this.getBounds(),h=f.getBounds();return g.l<h.r&&g.r>h.l&&g.t>h.b&&g.b<h.t}if('circle'===f.type){var j=f.x-Math.max(this.x,Math.min(f.x,this.x+this.width)),k=f.y-Math.max(this.y,Math.min(f.y,this.y+this.height));return Math.pow(j,2)+Math.pow(k,2)<Math.pow(f.radius,2)}throw new Error('Cannot check touches for type '+f.type+'.')}}]),e}(),c.Rectangle=d.exports,d.exports=function(){function e(f){var h=this,g=1<arguments.length&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,e),this.element=f,this.ctx=this.element.getContext('2d'),this.entities=[],g&&(this._repeatRender=function(){h.render(),window.requestAnimationFrame(h._repeatRender)},this._repeatRender())}return _createClass(e,[{key:'render',value:function render(){this._clearCanvas();for(var f=0;f<this.entities.length;f++)this.entities[f].render(this.ctx)}},{key:'add',value:function add(f){this.entities.push(f)}},{key:'clear',value:function clear(){this.entities=[]}},{key:'_clearCanvas',value:function _clearCanvas(){this.ctx.clearRect(0,0,this.element.width,this.element.height)}}]),e}(),c.Renderer=d.exports,d.exports=function(){function e(f){_classCallCheck(this,e),this.type='text',Object.assign(this,{x:0,y:0,text:'',color:'#000000',font:'30px Arial'},f)}return _createClass(e,[{key:'render',value:function render(f){f.fillStyle=this.color,f.font=this.font,f.textAlign=this.alignment,f.fillText(this.text,this.x,this.y,this.maxWidth)}},{key:'touches',value:function touches(){throw new Error('Cannot check touches for type '+this.type+'.')}}]),e}(),c.Text=d.exports,c}();